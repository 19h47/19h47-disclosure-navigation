!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.DisclosureNavigation=t():e.DisclosureNavigation=t()}(self,()=>(()=>{var e={499:e=>{self,e.exports=(()=>{"use strict";var e={d:(t,o)=>{for(var n in o)e.o(o,n)&&!e.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:o[n]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},t={};e.r(t),e.d(t,{default:()=>r});const o=(e,t,o)=>{e.preventDefault();const n=o+1>t.length-1?0:o+1;return t[n].focus(),n},n=(e,t,o)=>{e.preventDefault();const n=0>o-1?t.length-1:o-1;return t[n].focus(),n},i={ArrowUp:n,ArrowRight:o,ArrowDown:o,ArrowLeft:n,Home:(e,t)=>(e.preventDefault(),t[0].focus(),0),End:(e,t)=>(e.preventDefault(),t[t.length-1].focus(),t.length-1),default:()=>!1},r=(e,t=[],o=0)=>(i[e.key||e.code]||i.default)(e,t,o);return t})()}},t={};function o(n){var i=t[n];if(void 0!==i)return i.exports;var r=t[n]={exports:{}};return e[n](r,r.exports,o),r.exports}o.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return o.d(t,{a:t}),t},o.d=(e,t)=>{for(var n in t)o.o(t,n)&&!o.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),o.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var n={};return(()=>{"use strict";o.r(n),o.d(n,{default:()=>r});var e=o(499),t=o.n(e);const i=(e,t)=>{t?e.style.removeProperty("display"):e.style.setProperty("display","none")},r=class{constructor(e){this.children=[],this.index=null,this.useArrowKeys=!0,this.onButtonClick=e=>{const{currentTarget:t}=e,o=this.buttons.indexOf(t),n=JSON.parse(t.getAttribute("aria-expanded")||"false");this.toggle(o,!n)},this.onButtonKeydown=e=>{var o,n;const{key:i}=e,r=this.buttons.indexOf(document.activeElement);return"Escape"===i?this.toggle(this.index,!1):this.useArrowKeys&&this.index===r&&"ArrowDown"===i?(e.preventDefault(),null===(n=null===(o=this.children[this.index])||void 0===o?void 0:o.querySelector("a"))||void 0===n?void 0:n.focus()):this.useArrowKeys&&t()(e,this.buttons,r)},this.onMenuKeydown=e=>{var o,n;if(null===this.index)return!0;const{key:i}=e,r=[...null===(o=this.children[this.index])||void 0===o?void 0:o.querySelectorAll('a, button, [tabindex]:not([tabindex="-1"])')],s=r.findIndex(e=>e===document.activeElement);return"Escape"===i?(null===(n=this.buttons[this.index])||void 0===n||n.focus(),this.toggle(this.index,!1)):this.useArrowKeys&&t()(e,r,s)},this.el=e,this.buttons=[...this.el.querySelectorAll("button[aria-expanded][aria-controls]")]}init(){this.buttons.forEach(e=>{const t=e.getAttribute("aria-controls"),o=this.el.querySelector(`#${t}`);o&&(this.children.push(o),e.setAttribute("aria-expanded","false"),i(o,!1),o.addEventListener("keydown",this.onMenuKeydown),e.addEventListener("click",this.onButtonClick),e.addEventListener("keydown",this.onButtonKeydown))}),this.el.addEventListener("focusout",e=>this.onBlur(e))}onBlur(e){const{relatedTarget:t}=e;console.log("DisclosureNaviation.onBlur",this.el,t,!this.el.contains(t)),this.el.contains(t)||this.toggle(this.index,!1)}toggle(e,t){console.log("toggle",this.index,e,t),this.index!==e&&this.toggle(this.index,!1),null!==e&&this.buttons[e]&&(this.index=t?e:null,this.buttons[e].setAttribute("aria-expanded",t.toString()),i(this.children[e],t),((e,t={},o="")=>{const n=new CustomEvent(`disclosure-navigation:${o}`,{bubbles:!1,cancelable:!0,detail:t});e.dispatchEvent(n)})(this.el,{index:e,button:this.buttons[e],child:this.children[e]},t?"open":"close"))}}})(),n})());